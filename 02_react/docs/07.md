<h1>Projeto Blog Pessoal - Rotas da Aplicação</h1>



Antes de entrarmos no assunto Rotas, vamos relembrar O que é um Componente React?

<div align="center"><img src="https://i.imgur.com/OnU3Myc.png" title="source: imgur.com" /></div>

***Um Componente React é uma Função JavaScript que retorna (renderiza no navegador) Código HTML e CSS.***

Até o momento, você criou 3 Componentes na sua aplicação:

- Navbar
- Home
- Footer

Os 3 Componentes criados foram inseridos dentro do Componente App, como mostra a imagem abaixo:

<div align="center"><img src="https://i.imgur.com/nmgCyMP.png" title="source: imgur.com" /></div>

A nossa aplicação, não será composta por apenas 3 componentes, até porquê o nosso Backend possui 17 endpoints, que podem ser consumidos. No Projeto React do Blog Pessoal, vamos construir os seguintes Componentes:

- Login
- Cadastro de Usuário
- Listar Temas
- Listar Postagens
- Cadastrar/Atualizar Tema
- Cadastrar/Atualizar Postagem
- Deletar Tema
- Deletar Postagem

Após a construção de todos estes componentes, todos eles deverão ser inseridos dentro do Componente App para ficarem disponíveis na nossa aplicação, como mostra a imagem abaixo:

<div align="center"><img src="https://i.imgur.com/xspilXg.png" title="source: imgur.com" /></div>

Entretanto, como vimos anteriormente no tema Componentes, se apenas adicionarmos os todos os componentes criados dentro do Componente APP, todos eles serão renderizados (exibidos) no Navegador ao mesmo tempo e não é isso que nós queremos. No estágio atual da nossa aplicação, o React está fazendo exatamente isso: **Renderizando no Navegador todos os Componentes inseridos no Componente App, sem nenhum controle**.

O Comportamento esperado da nossa aplicação é que cada Componente seja exibido na tela, de acordo com a opção do Menu (Componente Navbar), que foi escolhida, como mostra a imagem abaixo:

<div align="center"><img src="https://i.imgur.com/6kMaVhb.png" title="source: imgur.com" /></div>

Observe que no Componente Navbar, nós temos 4 opções no menu. Ao clicar em cada uma destas opções, um componente diferente será renderizado na área onde está o Componente Home. Os Componentes **Navbar** e **Footer** serão estáticos, enquanto a área onde está o Componente Home será dinâmica.

Para conseguirmos obter o comportamento esperado e controlar exatamente quais Componentes serão renderizados em cada opção do menu, utilizaremos a Biblioteca **React Router**, que estabelecerá Rotas (caminhos) para a nossa aplicação, organizando a renderização dos componentes.

<br />

<h2>1. React Router</h2>



O **React Router** é uma das mais populares biblioteca de roteamento do React, ou seja, **resolver problemas de rotas (paths) para as páginas de um site** e tornar o desenvolvimento muito mais simples e escalável. Com as rotas, nós podemos **declarar os caminhos** para a aplicação **renderizar os componentes** e até mesmo **resolver parâmetros na URL** (Path Variables, por exemplo) .

Ao criarmos uma aplicação React é necessário e importante termos uma estrutura de rotas (caminhos), para organizar a renderização dos nossos componentes. Quando uma pessoa navega por uma aplicação WEB, assim como em qualquer site, ela deve ter uma **lógica para exibir os componentes de acordo com a URL que foi invocada pelo link em que a pessoa clicou**. 

Um ponto importante que precisa ser destacado, é que as rotas não são um recurso do React, mas elas estão presentes por toda a Internet, ou seja, quando acessamos um site qualquer e começamos a navegar por ele, estamos utilizando o sistema de rotas do site.

Antes de começarmos a trabalhar com o React Router, precisamos instalar a Biblioteca React Router no seu projeto React:

<br />

<div align="left"><img src="https://i.imgur.com/ey5iP4N.png" title="source: imgur.com" width="4%"/> <a href="https://reactrouter.com/en/main" target="_blank"><b>React Router</b></a></div>

<br />

<h2>2. Instalação da Biblioteca React Router</h2>



Para instalar o pacote **React Router**, no Terminal do VSCode digite o comando abaixo:

```bash
npm i react-router-dom
```

Após a instalação, será exibida uma mensagem, semelhante a imagem abaixo:

<div align="center"><img src="https://i.imgur.com/hJC1Kl7.png" title="source: imgur.com" /></div>

<br />

<div align="left"><img src="https://i.imgur.com/ey5iP4N.png" title="source: imgur.com" width="4%"/> <a href="https://reactrouter.com/en/main/start/tutorial#setup" target="_blank"><b>Documentação do React Router - Instalação</b></a></div>

<br />

<h2>3. Componentes do React Router</h2>



O React Router Dom tem os seus componentes divididos em três categorias, sendo que cada categoria é fundamental para o funcionamento  da aplicação.

<h3>3.1. Roteador</h3>

O Roteador é o principal componente para que um projeto consiga  executar o roteamento das páginas. Para criarmos o Roteador em nosso projeto, vamos utilizar o componente **BrowserRouter**. O Componente BrowserRouter, armazena o local atual na barra de endereços do navegador usando URLs limpos e navega usando a pilha de histórico integrada do navegador. Todas as URL's criadas pelo componente **BrowserRouter** seguem o padrão convencional, semelhante aos sites que navegamos no dia a dia. 

<br />

| <img src="https://i.imgur.com/hOgWvSc.png" title="source: imgur.com" width="100px"/> | <div align="left"> **ATENÇÃO:** *Os links gerados pelo Componente BrowserRouter, embora sigam o modelo de URL padrão, no final do endereço nós não teremos indicação de página ou arquivo (contato.html ou home.tsx, por exemplo), como vimos no conteúdo sobre HTML. O React não trabalha com páginas e sim com Componentes, logo as URL's serão semelhantes aos endpoints da nossa API (/postagem, por exemplo).* </div> |
| ------------------------------------------------------------ | ------------------------------------------------------------ |

<br />

<h3>3.2. Gerenciador de rotas</h3>

Para Gerenciar as nossas Rotas, utilizaremos os componentes **Routes** e **Route**. 

O Componente **Routes** é o Gerenciador das Rotas, que pode ser renderizado em qualquer Componente do aplicativo, embora geralmente ele é inserido no Componente APP da aplicação React. O Componente Routes corresponde a um conjunto de rotas filhas do Componente onde ele foi inserido.

O Componente **Route** é responsável por associar segmentos de URL (/postagens, /temas, entre outras), a Componentes da Aplicação React. Através de um conjunto de rotas aninhadas, layouts de aplicativos complexos e dependências de dados tornam-se simples e declarativos. Em poucas palavras, cada Componente Route inserido dentro de um Componente Routes representa uma rota da aplicação React.

O Componente Route possui dois parâmetros, **path**, onde indicamos a rota (caminho) e **element**, onde indicamos o Componente que será renderizado nesta rota.

<h3>3.3. Navegação</h3>

A etapa final do React Router é lidar com a navegação, ou seja, os links. Como vimos anteriormente no conteúdo sobre HTML, em um site qualquer, você navegaria utilizando a tag HTML `<a>`, que cria Hyperlinks, ou simplesmente um link para uma outra página ou site. O React Router possui o seu próprio componente personalizado para lidar com a navegação. Este componente é o **Link**, que na prática é apenas uma tag em torno de um elemento (texto, imagem, entre outros), que ajuda a garantir que todo o roteamento e a nova renderização condicional sejam tratados adequadamente para que você possa usá-lo como faria com a tag HTML `<a>` tradicional.

O Componente Link possui apenas uma parâmetro, **to** (equivalente ao `href` da tag `<a>`), onde indicamos a rota (caminho) para o Componente que será renderizado.

Neste material, veremos na prática como criar as nossas Rotas através dos Componentes **BrowserRouter, Routes e Route**. Nos próximos conteúdos veremos como criar os links para as rotas na prática, com o Componente **Link**.

<br />

<h2><img src="https://i.imgur.com/H9wEgsJ.png" title="source: imgur.com" width="5%"/>Passo 01 - Inserir o React Router DOM no Componente App.tsx</h2>



Vamos inserir as Rotas da nossa aplicação React no Componente **APP**:

1. Abra o arquivo **App.tsx**, localizado na pasta **src**
2. Substitua o conteúdo do arquivo **App.tsx**, pelo código abaixo:

```react
import { BrowserRouter, Route, Routes } from 'react-router-dom';
import Footer from './components/footer/Footer';
import Navbar from './components/navbar/Navbar';
import Home from './pages/home/Home';

function App() {
  return (
    <>
      <BrowserRouter>
        <Navbar />
          <div className='min-h-[80vh]'>
            <Routes>
              <Route path="/" element={<Home />} />
              <Route path="/home" element={<Home />} />
            </Routes>
          </div>  
        <Footer />
      </BrowserRouter>
    </>
  );
}

export default App;
```

Vamos analisar as alterações efetuadas no código:

<div align="center"><img src="https://i.imgur.com/JmLAhR3.png" title="source: imgur.com" /></div>

**Linha 01:** Importamos os 3 Componentes necessários para criar as rotas: **BrowserRouter, Route, Routes**, do pacote **react-router-dom**.

**Linha 09 e 18:** Habilitamos o Gerenciador de rotas **BrowserRouter**, evolvendo todos os Componentes inseridos no Componente App, ou seja, todos os Componentes inseridos no Componente App serão gerenciados pelo Componente **BrowserRouter**.

**Linhas 10 e 17:** Como os Componentes **Navbar e Footer** terão posição fixa na nossa tela e não receberão uma rota, observe que eles foram deixados fora do Componente **Routes**. Todo e qualquer componente não envolvido pelo Componente **Routes**, será renderizado sem rota.

**Linha 11:** Criamos uma div para definir a altura mínima, que será padrão para todos os componentes renderizados com rota.

**Linhas 12 a 15:** Criamos o Componente Routes, onde serão inseridas todas as nossas rotas.

**Linha 13:** Criamos a primeira rota, apontando para o endereço raiz da aplicação (/). Esta rota é obrigatória, pois ela define qual será o primeiro Componente que será renderizado entre os Componentes **Navbar e Footer**, todas as vezes que a aplicação for inicializada no Navegador. Por hora, definimos o Componente Home como o primeiro Componente que será renderizado. Observe que no parâmetro **element**, como estamos passando como valor do parâmetro um **Componente** (função JavaSCript), o mesmo deve ser inserido dentro de **Chaves { }**.

> **Chaves { }** são sintaxes especiais em JSX. Elas são utilizadas para avaliar (processar) uma expressão JavaScript durante a compilação. Uma expressão JavaScript pode ser uma variável, função, um objeto ou qualquer código que resolva em um valor.
>
> O JSX permite que você escreva tags semelhantes ao HTML dentro de um arquivo JavaScript, mantendo a lógica de renderização e o conteúdo no mesmo lugar. Às vezes, você desejará adicionar um pouco de lógica JavaScript ou fazer referência a uma propriedade dinâmica dentro dessa marcação. Nesta situação, você utilizará as chaves em seu código JSX.

**Linha 14:** Criamos a segunda rota, apontando para o endereço **/home**, apontando para o Componente **Home**.

<br />

| <img src="https://i.imgur.com/oScAYGc.png" title="source: imgur.com" width="80px"/> | <div align="left"> **ATENÇÃO:** *Não insira a mesma rota para 2 Componentes diferentes. Lembre-se que cada Componente deve ter a sua própria rota.* </div> |
| ------------------------------------------------------------ | ------------------------------------------------------------ |

<br />

| <img src="https://i.imgur.com/vVDBDG0.png" title="source: imgur.com" width="100px"/> | <div align="left"> **ALERTA DE BSM:** *Mantenha a Atenção aos Detalhes ao criar novos Componentes. Todas as vezes que você criar um novo Componente, que será renderizado em tela através de links (menu, botão, entre outros), não esqueça de adicionar o novo Componente no Componente App e criar uma nova rota para o novo Componente.* </div> |
| ------------------------------------------------------------ | ------------------------------------------------------------ |

<br />

<h2><img src="https://i.imgur.com/H9wEgsJ.png" title="source: imgur.com" width="4%"/> Passo 02 - Testar os Componentes</h2>



Chegou o momento de vermos os nossos Componentes no Navegador!

1. Para executar o Projeto no Navegador, digite o comando abaixo:

```bash
npm run dev
```

2. Após inicializar o projeto, será exibido o endereço onde a aplicação está sendo executada, como mostra a figura abaixo:

<div align="center"><img src="https://i.imgur.com/8tSoYJp.png" title="source: imgur.com" /></div>

3. Pressione a tecla **o** do seu teclado para abrir o Projeto no Navegador

4. O seu Projeto React será aberto no Navegador e os Componentes serão exibidos na tela, como mostra a figura abaixo:

<div align="center"><img src="https://i.imgur.com/XapKIEq.png" title="source: imgur.com" /></div>

Visualmente, você notará que foi criado um espaço em branco entre o componente Home e o Componente Footer. Neste espaço, posteriormente, será inserido o **Componente ListarPostagens**. No próximo conteúdo, veremos as rotas em ação, através do Componente Link.

<br />

<div align="left"><img src="https://i.imgur.com/ey5iP4N.png" title="source: imgur.com" width="4%"/> <a href="https://reactrouter.com/en/main/router-components/browser-router" target="_blank"><b>Documentação do React Router - BrowserRouter</b></a></div>

<div align="left"><img src="https://i.imgur.com/ey5iP4N.png" title="source: imgur.com" width="4%"/> <a href="https://reactrouter.com/en/main/components/routes" target="_blank"><b>Documentação do React Router - Routes</b></a></div>

<div align="left"><img src="https://i.imgur.com/ey5iP4N.png" title="source: imgur.com" width="4%"/> <a href="https://reactrouter.com/en/main/route/route" target="_blank"><b>Documentação do React Router - Route</b></a></div>

<br />

<br />	

<div align="left"><a href="README.md"><img src="https://i.imgur.com/XMgF3gl.png" title="source: imgur.com" width="3%"/>Voltar</a></div>
